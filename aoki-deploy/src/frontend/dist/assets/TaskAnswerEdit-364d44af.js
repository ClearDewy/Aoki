import{e as m}from"./style-297731c9.js";import{d as T,r as y,z as x,n as B,w as t,p as i,f as h,o as c,b as _,y as E,e as a,h as v,c as w,v as Q,P as k,u as f,F as I,B as b,x as g,_ as L}from"./index-3165b167.js";const U={class:"card-header"},N={style:{margin:"auto"}},q={style:{width:"100%"}},F=T({__name:"TaskAnswerEdit",setup(z){const s=y([]),o=y(x.getItem("task")||{id:null,name:"作业编辑"}),V=()=>{i.getQuestionAnswer(o.value.id).then(e=>{s.value=e.data})},A=()=>{i.saveTask({taskId:o.value.id,answerList:s.value.map(({questionId:e,answerContent:n})=>({questionId:e,answerContent:n}))}).then(e=>{b("保存成功")}).catch(e=>{g("保存失败")})},C=()=>{i.submitTask({taskId:o.value.id,answerList:s.value.map(({questionId:e,answerContent:n})=>({questionId:e,answerContent:n}))}).then(e=>{b("提交成功")}).catch(e=>{g("提交失败")})};return V(),(e,n)=>{const p=h("el-button"),r=h("el-card");return c(),B(r,{class:"box-card","body-style":{height:"calc(100% - 69px)",paddingTop:"0",paddingBottom:"0"}},{header:t(()=>[_("div",U,[_("h2",N,E(o.value.name),1),_("div",null,[a(p,{onClick:A},{default:t(()=>[v("保存")]),_:1}),a(p,{type:"primary",onClick:C},{default:t(()=>[v("提交")]),_:1})])])]),default:t(()=>[(c(!0),w(I,null,Q(s.value,(d,l)=>(c(),w("div",q,[a(r,{style:{width:"100%"},header:"Question-"+(l+1),"body-style":f(m)},{default:t(()=>[a(k,{"editor-id":"Question-"+l,modelValue:d.questionContent,"onUpdate:modelValue":u=>d.questionContent=u,"preview-only":!0},null,8,["editor-id","modelValue","onUpdate:modelValue"])]),_:2},1032,["header","body-style"]),a(r,{style:{width:"100%"},header:"Answer-"+(l+1),"body-style":f(m)},{default:t(()=>[a(k,{"editor-id":"Answer-"+l,modelValue:d.answerContent,"onUpdate:modelValue":u=>d.answerContent=u},null,8,["editor-id","modelValue","onUpdate:modelValue"])]),_:2},1032,["header","body-style"])]))),256))]),_:1},8,["body-style"])}}});const S=L(F,[["__scopeId","data-v-526e968e"]]);export{S as default};
